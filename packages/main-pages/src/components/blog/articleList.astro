---
import { relative, resolve } from 'path'
import Card from '../common/Card.astro';
import { BLOG_CONTENT_PATH, getBlogContent } from '../../lib/constants';

const __dirname = import.meta.dirname;

relative(__dirname, BLOG_CONTENT_PATH);
const posts = await Astro.glob('../../pages/blog/**.md');

---

<ul>
	<li>{relative(__dirname, BLOG_CONTENT_PATH)}</li>
	<li>{resolve()}</li>
	<li>{getBlogContent(__dirname)}</li>
	<li>../../pages/blog/**.md</li>
  {
    posts.map((post) => (
      <li>
		<article>
			<a href={post.url}>
			<Card>
				<p>
					{post.frontmatter.title}
				</p>
				<p>
					{post.frontmatter.title}
				</p>
				<p>
					{post.frontmatter.title}
				</p>
			</Card>
			</a>
		</article>
      </li>
    ))
  }
</ul>

<style>
  ul {
    display: flex;
    flex-direction: column;
    gap: 15px;
  }

  a {
	display: block;
	padding: 10px;
  }
</style>
